<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Ascend Avoid</title>
        <link
            href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="styles/index.css" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    </head>

    <body>
        <div class="loader"></div>

        <div class="app-root">
            <header class="app-header">
                <h1>Ascend Avoid</h1>

                <div class="score-panel">
                    <h4>
                        High Score:
                        <span class="score-value high-score">0</span>
                    </h4>
                    <h4>
                        Score:
                        <span class="score-value current-score">0</span>
                    </h4>
                </div>
            </header>

            <main class="game-main">
                <canvas
                    class="game-canvas"
                    aria-label="Cross the Box game"
                    role="img"
                ></canvas>

                <aside class="info-panel desktop-only">
                    <div class="panel-content">
                        <h3>How to Play:</h3>
                        <p>
                            Move the white block to the top without hitting
                            the blue blocks.
                        </p>
                        <ul>
                            <li>Use arrow keys or WASD to move</li>
                            <li>Press 'R' to restart the game</li>
                        </ul>
                        <p class="note">
                            Game speed increases as you score more points!
                        </p>
                        <p>
                            Try to beat your high score and challenge your
                            friends in multiplayer mode!
                        </p>
                    </div>
                    <div class="info-actions">
                        <button
                            class="nav-button btn-action guide-btn-desktop"
                            aria-label="How to play"
                        >
                            Guide
                        </button>
                        <button
                            class="nav-button btn-action multiplayer-btn-desktop"
                            aria-label="Multiplayer mode"
                        >
                            Multiplayer
                        </button>
                    </div>
                </aside>
            </main>

            <div class="float-menu mobile-only">
                <div class="float-trigger">
                    <span class="menu-dot"></span>
                    <span class="menu-dot"></span>
                    <span class="menu-dot"></span>
                </div>
                <div class="float-options hidden">
                    <button
                        class="btn-action guide-btn-mobile"
                        aria-label="How to play"
                        title="How to play"
                    >
                        Guide
                    </button>
                    <button
                        class="btn-action multiplayer-btn-mobile"
                        aria-label="Multiplayer mode"
                        title="Multiplayer mode"
                    >
                        Multiplayer
                    </button>
                </div>
            </div>

            <div class="modal-panel mobile-only modal hidden">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>How to Play</h3>
                        <button
                            class="close-modal"
                            aria-label="Close instructions"
                        >
                            Ã—
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="modal-instructions">
                            <p>
                                Move the white block to the top without
                                hitting the blue blocks.
                            </p>
                            <ul>
                                <li>Use the D-pad on the left to move</li>
                                <li>A button: Fire missile</li>
                                <li>B button: Activate boost</li>
                            </ul>
                            <p class="note">
                                Game speed increases as you score more
                                points!
                            </p>
                            <p>
                                Try to beat your high score and challenge
                                your friends in multiplayer mode!
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script
            type="module"
            src="index.ts"
            onerror="alert('Failed to load game script. Please refresh the page.')"
        ></script>
    </body>
</html>
