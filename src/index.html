<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Ascend Avoid</title>
        <link
            href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="styles/index.css" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    </head>

    <body>
        <div class="loader"></div>

        <div class="app-root" data-app="ascend-avoid">
            <header class="app-header">
                <h1>Ascend Avoid</h1>

                <div class="score-panel" data-scores="main">
                    <h4>
                        High Score:
                        <span class="score-value" data-score="high">0</span>
                    </h4>
                    <h4>
                        Score:
                        <span class="score-value" data-score="current">0</span>
                    </h4>
                </div>
            </header>

            <main class="game-main" data-section="main">
                <div class="game-area" data-section="game">
                    <div class="canvas-viewport" data-viewport="main">
                        <canvas
                            class="game-canvas"
                            data-canvas="primary"
                            aria-label="Cross the Box game"
                            role="img"
                        ></canvas>
                    </div>

                    <div class="info-panel desktop-only" data-panel="info">
                        <div class="panel-content" data-content="instructions">
                            <h3>How to Play:</h3>
                            <p>
                                Move the white block to the top without hitting
                                the blue blocks.
                            </p>
                            <ul>
                                <li>Use arrow keys or WASD to move</li>
                                <li>Press 'R' to restart the game</li>
                            </ul>
                            <p class="note">
                                Game speed increases as you score more points!
                            </p>
                            <p>
                                Try to beat your high score and challenge your
                                friends in multiplayer mode!
                            </p>
                        </div>
                        <div class="info-actions">
                            <button
                                class="nav-button btn-action"
                                data-action="guide-desktop"
                                aria-label="How to play"
                            >
                                Guide
                            </button>
                            <button
                                class="nav-button btn-action"
                                data-action="multiplayer-desktop"
                                aria-label="Multiplayer mode"
                            >
                                Multiplayer
                            </button>
                        </div>
                    </div>
                </div>
            </main>

            <div class="control-panel" data-section="controls">
                <div class="touch-controller" data-controller="main"></div>

                <div class="float-menu mobile-only" data-menu="primary">
                    <div class="float-trigger" data-trigger="menu">
                        <span class="menu-dot"></span>
                        <span class="menu-dot"></span>
                        <span class="menu-dot"></span>
                    </div>
                    <div class="float-options hidden" data-options="menu">
                        <button
                            class="btn-action"
                            data-action="guide"
                            aria-label="How to play"
                            title="How to play"
                        >
                            Guide
                        </button>
                        <button
                            class="btn-action"
                            data-action="multiplayer"
                            aria-label="Multiplayer mode"
                            title="Multiplayer mode"
                        >
                            Multiplayer
                        </button>
                    </div>
                </div>

                <div class="modal-panel mobile-only modal hidden">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>How to Play</h3>
                            <button
                                class="close-modal"
                                aria-label="Close instructions"
                            >
                                Ã—
                            </button>
                        </div>
                        <div class="modal-body">
                            <div
                                class="modal-instructions"
                                data-content="mobile-instructions"
                            >
                                <p>
                                    Move the white block to the top without
                                    hitting the blue blocks.
                                </p>
                                <ul>
                                    <li>Use the D-pad on the left to move</li>
                                    <li>A button: Fire missile</li>
                                    <li>B button: Activate boost</li>
                                </ul>
                                <p class="note">
                                    Game speed increases as you score more
                                    points!
                                </p>
                                <p>
                                    Try to beat your high score and challenge
                                    your friends in multiplayer mode!
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="error-panel" data-error="container">
            <h3>Oops! Something went wrong</h3>
            <p class="error-text" data-error="message">
                There was a problem loading the game.
            </p>
            <button onclick="window.location.reload()">Reload Game</button>
        </div>

        <script
            type="module"
            src="index.ts"
            onerror="document.querySelector('.error-panel[data-error=&quot;container&quot;]').style.display='block'; document.querySelector('.error-text[data-error=&quot;message&quot;]').textContent='Failed to load game script. Please check your connection and try again.'"
        ></script>
    </body>
</html>
