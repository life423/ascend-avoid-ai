/* ============================================
   CSS CUSTOM PROPERTIES (Design Tokens)
   ============================================ */
:root {
    /* Color Palette */
    --primary-dark: #0a192f;
    --primary-light: #172a46;
    --accent-primary: #00bcd4;
    --accent-secondary: #64ffda;
    --text-light: #f5f5f5;
    --text-dark: #121212;
    --warning: #ff5252;
    --success: #4caf50;

    /* UI Colors */
    --side-panel-base: #1e3a5f;
    --side-panel-accent: #2a4d7a;
    --divider-line: rgba(0, 188, 212, 0.3);
    --nav-bg: rgba(23, 42, 70, 0.9);

    /* Spacing Scale */
    --space-xs: 4px;
    --space-sm: 8px;
    --space-md: 16px;
    --space-lg: 24px;
    --space-xl: 32px;
    --space-xxl: 48px;

    /* Design Tokens */
    --border-radius: 8px;
    --transition: 0.2s ease;
    --shadow-light: 0 2px 4px rgba(0, 0, 0, 0.2);
    --shadow-medium: 0 4px 8px rgba(0, 0, 0, 0.3);
    --shadow-heavy: 0 5px 15px rgba(0, 0, 0, 0.5);

    /* Z-Index Scale - Organized layering system */
    --z-base: 1;           /* Base level elements */
    --z-controls: 10;      /* Touch controls and game controls */
    --z-ui: 100;           /* Game UI elements (panels, menus) */
    --z-overlay: 1000;     /* Overlays and modals */
    --z-critical: 9999;    /* Critical system elements (errors, loading) */

    /* Layout Control Variables - Dynamic responsive sizing */
    --ctrl-h: clamp(60px, 15vh, 140px); /* Scales with viewport height, prevents tiny/huge extremes */
    
    /* Shared responsive values to reduce duplication */
    --touch-min: 44px;          /* WCAG minimum touch target */
    --dpad-size: clamp(90px, 20vw, 140px);  /* D-pad container size */
    --action-btn-size: clamp(44px, 12vw, 70px); /* Action button size */
    --control-gap: clamp(8px, 2vh, 16px);   /* Responsive control spacing */
    --control-padding: clamp(4px, 1vw, 12px); /* Responsive padding */
}

/* Responsive control height scaling based on device size */
@media (min-width: 768px) and (max-width: 1199px) {
    :root {
        --ctrl-h: clamp(80px, 18vh, 160px); /* Larger controls on tablets */
    }
}

@media (max-height: 600px) {
    :root {
        --ctrl-h: clamp(50px, 10vh, 80px); /* Smaller controls on short screens */
    }
}

/* ============================================
   GLOBAL RESET & BASE STYLES
   ============================================ */
*,
*::before,
*::after {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    overflow: hidden;
    width: 100%;
    height: 100%;
    overscroll-behavior: none;
    touch-action: none;
    /* Remove position: fixed to avoid mobile browser issues */
}

body {
    background: var(--side-panel-base);
    font-family: 'Montserrat', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    color: var(--text-light);
    line-height: 1.5;
    min-height: 100vh;
    overflow: hidden;
    /* Remove position: fixed for better mobile compatibility */
    width: 100%;
    height: 100%;
    touch-action: manipulation;
    overscroll-behavior: contain;
    display: flex;
    flex-direction: column;
    /* Add safe area insets for notched devices */
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
}

body.modal-open {
    overflow: hidden;
    position: fixed;
    width: 100%;
    height: 100%;
}
